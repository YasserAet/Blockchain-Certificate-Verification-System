# ML Service Environment Variables
# Copy this file to .env and fill in your actual values

# Server Configuration
PORT=8000
HOST=0.0.0.0
DEBUG=False
WORKERS=4

# Backend API
BACKEND_URL=http://backend:3001

# Model Configuration
MODEL_DIR=./models
MODEL_CACHE_DIR=./model_cache
DEVICE=cpu
# Options: cpu, cuda, mps (for Apple Silicon)

# OCR Configuration
TESSERACT_CMD=/usr/bin/tesseract
# Windows: C:\\Program Files\\Tesseract-OCR\\tesseract.exe
# Mac: /usr/local/bin/tesseract
# Linux: /usr/bin/tesseract

OCR_LANGUAGES=eng,spa,fra,deu,ara,zho,jpn,kor
OCR_CONFIDENCE_THRESHOLD=0.5

# Document Processing
PDF_DPI=300
IMAGE_MAX_SIZE=4096
ENABLE_PREPROCESSING=True

# Fraud Detection Model
FRAUD_MODEL_PATH=./models/fraud_detection_v1.pth
FRAUD_CONFIDENCE_THRESHOLD=0.7
FRAUD_MODEL_VERSION=1.0.0

# Classification Model
CLASSIFICATION_MODEL_PATH=./models/certificate_classifier_v1.pth
CLASSIFICATION_CONFIDENCE_THRESHOLD=0.6
CLASSIFICATION_MODEL_VERSION=1.0.0

# Skill Extraction (NLP)
NLP_MODEL_NAME=xlm-roberta-base
SKILLS_MODEL_PATH=./models/skills_extractor_v1.pth
SKILL_CONFIDENCE_THRESHOLD=0.5

# Layout Analysis
LAYOUT_MODEL_NAME=microsoft/layoutlmv3-base
ENABLE_LAYOUT_ANALYSIS=True

# Dataset Paths
DATASET_ROOT=./datasets
TRAINING_DATA_PATH=./datasets/training
VALIDATION_DATA_PATH=./datasets/validation
SYNTHETIC_DATA_PATH=./datasets/synthetic

# Training Configuration
BATCH_SIZE=16
LEARNING_RATE=0.0001
EPOCHS=10
EARLY_STOPPING_PATIENCE=3

# GPU Configuration (if available)
CUDA_VISIBLE_DEVICES=0
ENABLE_GPU=False
GPU_MEMORY_FRACTION=0.8

# Hugging Face (for downloading models)
HF_HOME=./huggingface_cache
HF_TOKEN=
# Optional: Your Hugging Face token for private models

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/ml_service.log
LOG_FORMAT=json

# Performance
MAX_WORKERS=4
TIMEOUT=300
# 5 minutes timeout for long processing

# Cache
ENABLE_MODEL_CACHE=True
CACHE_TTL=3600
# 1 hour

# Monitoring
ENABLE_METRICS=True
METRICS_PORT=8001

# Security
API_KEY=your_ml_service_api_key_change_in_production
ENABLE_AUTH=False
# Set to True in production

# Temporary Files
TEMP_DIR=./temp
CLEANUP_TEMP_FILES=True
TEMP_FILE_MAX_AGE=3600
# 1 hour

# Feature Flags
ENABLE_FRAUD_DETECTION=True
ENABLE_SKILL_EXTRACTION=True
ENABLE_QR_DETECTION=True
ENABLE_SIGNATURE_VERIFICATION=True

# Model Serving
MODEL_WARMUP=True
PRELOAD_MODELS=False
# Set to True in production for faster first request
